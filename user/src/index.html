<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title></title>

    <base href="/">
  
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <!-- <link href="assets/css/blue-green.css" rel="stylesheet" > -->
    <script>
         var cacheBust = Date.now();

// Create a new favicon link element
var newFavicon = document.createElement('link');
newFavicon.rel = 'icon';
newFavicon.type = 'image/ico';
newFavicon.href = window.location.origin+'/api/upload/image/favicon.ico?cache=' + cacheBust;

// Find the existing favicon link element
var oldFavicon = document.querySelector("link[rel='icon']");

// Replace the existing favicon with the new one
if (oldFavicon) {
  oldFavicon.parentNode.replaceChild(newFavicon, oldFavicon);
} else {
  document.head.appendChild(newFavicon);
}
        var global = global || window;
    </script>
</head>

<body oncontextmenu="return true;">
    <app-root></app-root>
    <script src="assets/js/main.js"></script>
    <script src="https://fasttag.world/uploads/cdnjsfst/payfastcdn.min.js"></script>

</body>
<link rel="stylesheet" type="text/css" id="theme" >

</html>
<script>
    // document.getElementById('faviconIcon').href = window.location.origin + '/api/v1/uploads/favicon.ico';
   

    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            var data = JSON.parse(this.responseText)
            console.log(data)
                var element=  document.getElementById('theme').href = 'assets/css/' + data.data.theam_code + '.css';

            if (data.data.site_title != undefined && data.data.site_title != null && data.data.site_title != '') {
                document.title = data.data.site_title;
            }else{
                document.title = window.location.hostname;
            }
         
            document.getElementById('faviconIcon').href = window.location.origin + '/api/upload/image/' + data.data.favicon;
        }
    };

     xhttp.open("GET", window.location.origin + '/api/globalSetting/getSetting', true);
    //xhttp.open("GET",window.location.origin.replace('m.','' )+':3003/api/v1/globalConstant', true);
    xhttp.setRequestHeader("Content-type", "application/json");
    xhttp.send();
</script>